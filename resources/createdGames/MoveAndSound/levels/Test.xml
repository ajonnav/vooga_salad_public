<?xml version="1.0" ?><object-stream><model.entity.Level serialization="custom"><model.entity.Level><default><eventSystem class="events.EventSystem" serialization="custom"><events.EventSystem><default><actionMap class="com.google.common.collect.ArrayListMultimap" serialization="custom"><unserializable-parents></unserializable-parents><com.google.common.collect.ArrayListMultimap><default></default><int>6</int><events.KeyTrigger><changed>false</changed><obs></obs><eventType resolves-to="javafx.event.EventType$EventTypeSerialization"><path><string>INPUT</string><string>KEY</string><string>KEY_PRESSED</string></path></eventType><keyCode>W</keyCode></events.KeyTrigger><int>1</int><events.Action><script>import api.ILevel
import model.component.audio.SoundEffect
import model.component.visual.AnimatedSprite

ILevel level = universe;
String keyStr = key;

AnimatedSprite animatedSprite = level.getEntitiesWithName("ryu").get(0);
SoundEffect soundfx = level.getEntitiesWithName("ryu").get(0);
switch (keyStr) {
    case "W":
        animatedSprite.createAndPlayAnimation("LeftPunch");
        soundfx.play();
        println("hi");
        break;
    case "S":
        animatedSprite.createAndPlayAnimation("RightPunch");
        soundfx.play();
        println("hi");
        break;
}


</script><scriptPath>src/testing/demo/Punch.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>key</string><string>W</string></entry></map></parameters></events.Action><events.KeyTrigger><changed>false</changed><obs></obs><eventType reference="../../events.KeyTrigger/eventType"></eventType><keyCode>W</keyCode></events.KeyTrigger><int>1</int><events.Action><script>import api.ILevel
import model.component.audio.SoundEffect
import model.component.visual.AnimatedSprite

ILevel level = universe;
String keyStr = key;

AnimatedSprite animatedSprite = level.getEntitiesWithName("ryu").get(1);
SoundEffect soundfx = level.getEntitiesWithName("ryu").get(2);
switch (keyStr) {
    case "W":
        animatedSprite.createAndPlayAnimation("LeftPunch");
        soundfx.play();
        println("hi");
        break;
    case "S":
        animatedSprite.createAndPlayAnimation("RightPunch");
        soundfx.play();
        println("hi");
        break;
}


</script><scriptPath>src/testing/demo/Punch.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>key</string><string>W</string></entry></map></parameters></events.Action><events.KeyTrigger><changed>false</changed><obs></obs><eventType reference="../../events.KeyTrigger/eventType"></eventType><keyCode>S</keyCode></events.KeyTrigger><int>1</int><events.Action><script>import api.ILevel
import model.component.audio.SoundEffect
import model.component.visual.AnimatedSprite

ILevel level = universe;
String keyStr = key;

AnimatedSprite animatedSprite = level.getEntitiesWithName("ryu").get(1);
SoundEffect soundfx = level.getEntitiesWithName("ryu").get(2);
switch (keyStr) {
    case "W":
        animatedSprite.createAndPlayAnimation("LeftPunch");
        soundfx.play();
        println("hi");
        break;
    case "S":
        animatedSprite.createAndPlayAnimation("RightPunch");
        soundfx.play();
        println("hi");
        break;
}


</script><scriptPath>src/testing/demo/Punch.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>key</string><string>S</string></entry></map></parameters></events.Action><events.KeyTrigger><changed>false</changed><obs></obs><eventType reference="../../events.KeyTrigger/eventType"></eventType><keyCode>S</keyCode></events.KeyTrigger><int>1</int><events.Action><script>import api.ILevel
import model.component.audio.SoundEffect
import model.component.visual.AnimatedSprite

ILevel level = universe;
String keyStr = key;

AnimatedSprite animatedSprite = level.getEntitiesWithName("ryu").get(1);
SoundEffect soundfx = level.getEntitiesWithName("ryu").get(2);
switch (keyStr) {
    case "W":
        animatedSprite.createAndPlayAnimation("LeftPunch");
        soundfx.play();
        println("hi");
        break;
    case "S":
        animatedSprite.createAndPlayAnimation("RightPunch");
        soundfx.play();
        println("hi");
        break;
}


</script><scriptPath>src/testing/demo/Punch.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>key</string><string>S</string></entry></map></parameters></events.Action><events.KeyTrigger><changed>false</changed><obs></obs><eventType reference="../../events.KeyTrigger/eventType"></eventType><keyCode>S</keyCode></events.KeyTrigger><int>1</int><events.Action><script>import api.ILevel
import model.component.audio.SoundEffect
import model.component.visual.AnimatedSprite

ILevel level = universe;
String keyStr = key;

AnimatedSprite animatedSprite = level.getEntitiesWithName("ryu").get(0);
SoundEffect soundfx = level.getEntitiesWithName("ryu").get(0);
switch (keyStr) {
    case "W":
        animatedSprite.createAndPlayAnimation("LeftPunch");
        soundfx.play();
        println("hi");
        break;
    case "S":
        animatedSprite.createAndPlayAnimation("RightPunch");
        soundfx.play();
        println("hi");
        break;
}


</script><scriptPath>src/testing/demo/Punch.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>key</string><string>S</string></entry></map></parameters></events.Action><events.KeyTrigger><changed>false</changed><obs></obs><eventType reference="../../events.KeyTrigger/eventType"></eventType><keyCode>W</keyCode></events.KeyTrigger><int>1</int><events.Action><script>import api.ILevel
import model.component.audio.SoundEffect
import model.component.visual.AnimatedSprite

ILevel level = universe;
String keyStr = key;

AnimatedSprite animatedSprite = level.getEntitiesWithName("ryu").get(1);
SoundEffect soundfx = level.getEntitiesWithName("ryu").get(2);
switch (keyStr) {
    case "W":
        animatedSprite.createAndPlayAnimation("LeftPunch");
        soundfx.play();
        println("hi");
        break;
    case "S":
        animatedSprite.createAndPlayAnimation("RightPunch");
        soundfx.play();
        println("hi");
        break;
}


</script><scriptPath>src/testing/demo/Punch.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>key</string><string>W</string></entry></map></parameters></events.Action></com.google.common.collect.ArrayListMultimap></actionMap><eventFactory></eventFactory><timer><value>5.629999999999924</value><valid>false</valid><bean class="events.EventSystem" reference="../../../.."></bean><name>timer</name></timer></default></events.EventSystem></eventSystem><metadata class="linked-hash-map"><entry><string>Script</string><string>testing.demo.MoveAndSound,model.core.DefaultAnimationUpdater</string></entry></metadata><physics class="model.physics.PhysicsEngine"><velocityCalculator class="model.physics.RealisticVelocityCalculator"></velocityCalculator><gravityActive>true</gravityActive><collisionDetectionActive>true</collisionDetectionActive></physics><universe class="model.entity.EntitySystem"><entities></entities><name>Test</name></universe><velocityCalculator class="model.physics.RealisticVelocityCalculator" reference="../physics/velocityCalculator"></velocityCalculator></default></model.entity.Level></model.entity.Level></object-stream>