<?xml version="1.0" ?><object-stream><model.entity.Level serialization="custom"><model.entity.Level><default><eventSystem class="events.EventSystem" serialization="custom"><events.EventSystem><default><actionMap class="com.google.common.collect.ArrayListMultimap" serialization="custom"><unserializable-parents></unserializable-parents><com.google.common.collect.ArrayListMultimap><default></default><int>1</int><events.KeyTrigger><changed>false</changed><obs></obs><eventType resolves-to="javafx.event.EventType$EventTypeSerialization"><path><string>INPUT</string><string>KEY</string><string>KEY_PRESSED</string></path></eventType><keyCode>A</keyCode></events.KeyTrigger><int>1</int><events.Action><script>package providedScripts

import groovy.transform.BaseScript
import groovy.transform.Field
import model.component.movement.Velocity

@BaseScript ScriptHelpers ScriptHelpers

/**
 * Movs a sprite using the Physics Engine.
 * @author Rhondu Smithwick
 */


@Field Double movedX = containsVariable("velocityX") ? getDouble("velocityX") : 0.0;
@Field Double movedY = containsVariable("velocityY") ? getDouble("velocityY") : 0.0;

def move = { entity -&gt;
    if (entity.hasComponent(Velocity.class)) {
        Velocity velocity = entity.getComponent(Velocity.class);
        velocity.setVXY(movedX, movedY);
    }
}

workOnEntities(move);</script><scriptPath>resources/providedScripts/MoveEntity.groovy</scriptPath><parameters class="javax.script.SimpleBindings"><map><entry><string>movedY</string><string>400</string></entry><entry><string>movedX</string><string>400</string></entry><entry><string>entityID</string><string>96501f51-4bff-44ba-bd64-4a8cf4483409</string></entry></map></parameters></events.Action></com.google.common.collect.ArrayListMultimap></actionMap><timer><value>0.0</value><valid>true</valid><bean class="events.EventSystem" reference="../../../.."></bean><name>timer</name></timer></default></events.EventSystem></eventSystem><metadata class="linked-hash-map"></metadata><physics class="model.physics.PhysicsEngine"><velocityCalculator class="model.physics.RealisticVelocityCalculator"></velocityCalculator><gravityActive>true</gravityActive><collisionDetectionActive>true</collisionDetectionActive></physics><universe class="model.entity.EntitySystem"><entities><model.entity.Entity ID="96501f51-4bff-44ba-bd64-4a8cf4483409" name="jasmin"><components class="linked-hash-map"><entry><java-class>model.component.physics.Drag</java-class><list><model.component.physics.Drag><singleProperty><property1><value class="double">0.0</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>Beta</name></property1></singleProperty></model.component.physics.Drag></list></entry><entry><java-class>model.component.character.Health</java-class><list><model.component.character.Health><singleProperty><property1><value class="double">0.0</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>Health</name></property1></singleProperty></model.component.character.Health></list></entry><entry><java-class>model.component.character.Score</java-class><list><model.component.character.Score><singleProperty><property1><value class="double">0.0</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>Score</name></property1></singleProperty></model.component.character.Score></list></entry><entry><java-class>model.component.character.Attack</java-class><list><model.component.character.Attack><singleProperty><property1><value class="double">0.0</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>Attack</name></property1></singleProperty></model.component.character.Attack></list></entry><entry><java-class>model.component.physics.Mass</java-class><list><model.component.physics.Mass><singleProperty><property1><value class="double">206.89655172413794</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>Mass</name></property1></singleProperty></model.component.physics.Mass></list></entry><entry><java-class>model.component.movement.Velocity</java-class><list><model.component.movement.Velocity><twoProperty><property1><value class="double">0.0</value><valid>false</valid><bean class="utility.TwoProperty" reference="../.."></bean><name>XVelocity</name></property1><property2><value class="double">0.0</value><valid>false</valid><bean class="utility.TwoProperty" reference="../.."></bean><name>YVelocity</name></property2></twoProperty></model.component.movement.Velocity></list></entry><entry><java-class>model.component.character.Defense</java-class><list><model.component.character.Defense><singleProperty><property1><value class="double">0.0</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>Defense</name></property1></singleProperty></model.component.character.Defense></list></entry><entry><java-class>model.component.movement.Position</java-class><list><model.component.movement.Position><twoProperty><property1><value class="double">212.0</value><valid>true</valid><bean class="utility.TwoProperty" reference="../.."></bean><name>XPosition</name></property1><property2><value class="double">144.0</value><valid>true</valid><bean class="utility.TwoProperty" reference="../.."></bean><name>YPosition</name></property2></twoProperty></model.component.movement.Position></list></entry><entry><java-class>model.component.visual.Sprite</java-class><list><model.component.visual.Sprite serialization="custom"><model.component.visual.Sprite><default><imagePathProperty><property1><value class="string">resources/images/jasmine.png</value><valid>false</valid><bean class="utility.SingleProperty" reference="../.."></bean><name>ImagePath</name></property1></imagePathProperty><imageSizeProperty><property1><value class="double">0.0</value><valid>true</valid><bean class="utility.TwoProperty" reference="../.."></bean><name>ImageWidth</name></property1><property2><value class="double">0.0</value><valid>true</valid><bean class="utility.TwoProperty" reference="../.."></bean><name>ImageHeight</name></property2></imageSizeProperty></default></model.component.visual.Sprite></model.component.visual.Sprite></list></entry></components><Specs class="linked-hash-map"></Specs><groupIDs></groupIDs></model.entity.Entity></entities><name>one</name></universe><velocityCalculator class="model.physics.RealisticVelocityCalculator" reference="../physics/velocityCalculator"></velocityCalculator></default></model.entity.Level></model.entity.Level></object-stream>